
<!-- Main /decks route -->
<template name="decks">
    {{> decks_mydecks }}
    {{> decks_deckscraper}}
</template>




<!-- List this users decks -->
<template name="decks_mydecks">
    <h3>Decks</h3>
    <ul>
        {{#each mydecks}}
            {{> decks_decklist_item }}
        {{/each}}
    </ul>
</template>

<!-- Display a single deck -->
<template name="decks_decklist_item">
    <li>
        {{#if isOwner}}
            <button type="button" class="btn btn-danger btn-sm">
                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
            </button>
        {{/if}}
        <a href="/browseDeck/{{_id}}">{{name}} (Created {{age}})</a>
    </li>
</template>

<!-- Display the deck scraper -->
<template name="decks_deckscraper">
    <h3>Deck Scraper</h3>

    {{#if loadingCards}}
        Loading . . .
    {{else}}

        <!-- Show cards if they exist -->
        {{#with cards}}
            {{> decks_cardList }}
        {{/with}}

        <form class="form-inline" role="form">
            {{#if cards}}
                {{!-- Save Deck if cards loaded --}}
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" id="deck-name" type="text" placeholder="Deck Name"/>
                        <button class="btn btn-default form-control" id="save">Save Deck</button>
                    </div>
                </div>
            {{else}}
                {{!-- Load/Scrape Deck if no cards loaded --}}
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" id="ld-tappedouturl" type="text" placeholder="deck-url-here"/>
                        <button class="btn btn-default form-control" id="load">Scrape Deck</button>
                    </div>
                </div>
            {{/if}}
        </form>
    {{/if}}
</template>

<!-- Lists the cards returned from a scrape -->
<template name="decks_cardList">
    <h4>Decklist (Don't forget to save)</h4>
    <ul>
        {{#each this}}
            <li>{{quantity}} x {{name}}</li>
        {{/each}}
    </ul>
</template>